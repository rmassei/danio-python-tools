---
title: 'daniopoint-py - A python package for the analysis and
visualization of zebrafish (Danio rerio) embryos screening behavioural data'
tags:
  - Python
  - behaviour
  - zebrafish
  - jupyter notebooks
  - KNIME workflows
authors:
  - name: Riccardo Massei
    orcid: 0000-0003-2104-9519
    equal-contrib: true
    affiliation: "1"
affiliations:
 - name: Helmholtz Centre for Environmental Research GmbH - UFZ, Leipzig, Germany
   index: 1
date: January 2024
bibliography: paper.bib

---

# Summary

In recent decades, we have witnessed an increased application of behavioral tests in environmental and 
life sciences. These tests are applied to assess the adverse effects of chemicals or the toxicity of
environmental samples. One of the most commonly utilized model organisms is the 
zebrafish (*Danio rerio*), a freshwater animal native to India. Zebrafish embryonic stages are 
widely employed due to their advantages, such as small size and transparency. The development of 
the zebrafish nervous system begins 24 hours after egg fertilization, and larval stages are capable 
of swimming after just 4 days. By the fifth day after fertilization, various complex behaviors 
such as thigmotaxis, memory, and escape responses can be recorded and analyzed.

Numerous technologies have been developed for recording zebrafish behavior. However, a 
harmonized approach to analyze these data does not currently exist. Despite many analyses 
requiring the same foundational code, there remains a lack of harmonization among different 
visualization and analysis methods. Furthermore, there is no general agreement on the 
experimental metadata which are need to be reported in the analysis. In this work, we present
the python package **daniopoint** for the analysis of dark/light response test, one of the most
applied tests in behavioural studies.


# Statement of need

Daniopoint serves as a python package specifically designed for the in-depth analysis of behavioral 
data acquired through ViewPoint systems. Leveraging the capabilities of the pandas library, this package 
facilitates the rapid and efficient analysis of extensive datasets.  Pandas is 
indispensable for analyzing large datasets, providing a robust framework that excels in handling extensive 
behavioral data efficiently. Its optimized algorithms ensure high-performance operations, enabling quick 
exploration and processing of massive datasets generated by systems like ViewPoint. 

Currently, the package enables the visualization of screening data in different plate formats, allowing for the 
plotting of various responses based on treatment conditions. Additionally, it offers the direct 
extraction of metadata from the analysis file. Moreover, Daniopoint recognizes the significance of 
versatility in data analysis environments. 
In acknowledgment of this, the package seamlessly integrates with Jupyter Notebooks, a popular 
interactive computing platform. By incorporating Daniopoint into Jupyter Notebooks, researchers 
gain the advantage of a dynamic and collaborative analysis environment. This integration allows 
for the execution of the package's functionalities within the interactive and visually rich Jupyter 
environment, fostering a more exploratory and interactive data analysis process. Researchers can 
leverage the combined power of Daniopoint and Jupyter Notebooks to conduct in-depth analyses, 
visualize results, and iteratively refine their behavioral data exploration. Notably, Daniopoint's 
user-friendly interface ensures accessibility for scientists who may not be proficient in coding,
and the danio-python-tools repository extends this usability by providing a KNIME version of the script. 
In this KNIME workflow, the Python script is seamlessly integrated, offering a user-friendly graphical 
interface. Moreover, this KNIME workflow can be effortlessly transferred to a local server,
facilitating convenient API utilization for scientific exploration of behavioral data. 
This holistic integration ensures a smooth transition for researchers, enabling them to harness
the power of Daniopoint without requiring extensive coding expertise.

# Usage Examples

### Analysis of single plate responses

Daniopoint allows the visualization of the responses on a well-format image. The user can select the three
main well-formats used for these tests (24, 48 and 96). Furthermore, different endpoints can be selected
in order to visualize different kind of responses such the distance or total duration of the movements.
An example is showed in Fig.1

### Analysis of the movements distribution in different light phases
One of the main feature of daniopoint is the analysis of the distribution of different endpoints.

### Metadata extraction
Finally, daniopoint allows to extract metadata from the result file and translate it into a readable form which can used in publication
in a standard format. An example, is give in the README file of the repository.

# Citations


For a quick reference, the following citation commands can be used:
- `@author:2001`  ->  "Author et al. (2001)"
- `[@author:2001]` -> "(Author et al., 2001)"
- `[@author1:2001; @author2:2001]` -> "(Author1 et al., 2001; Author2 et al., 2002)"

# Figures

![plate_visualization.png](docs%2Fplate_visualization.png)

Fig.1: Example of a 96-well plate visualization. 

![histplot_smldist_start_range.png](docs%2Fhistplot_smldist_start_range.png)

Fig.2: Density plot of the endpoint "small distance" in a certain measurement period. Different treatments are plotted in the graph.
